<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Document</title>
  <style type="text/css">
  *{
  margin:0;
  padding:0;
  }
  body{
	overflow:hidden;
	background:#000;
  }
  .pers{
  perspective:1000px;
  }
  .warp{
	width:113px;
	height:200px;
	margin:200px auto;
	transform-style:preserve-3d;
	position:relative;
	transform:rotateX(-30deg);
  }
  .warp>img{
	position:absolute;
	transition:all 1s;
	-webkit-box-reflect:below 5px 
	-webkit-linear-gradient(top,rgba(0,0,0,0)30%,rgba(0,0,0,0.5)100%);/*倒影*/
  }
  </style>
 </head>
 <body>
  <div class="pers">
	<div class="warp">
		<img src="img/1.jpg" alt="" />
		<img src="img/2.jpg" alt="" />
		<img src="img/3.jpg" alt="" />
		<img src="img/4.jpg" alt="" />
		<img src="img/5.jpg" alt="" />
		<img src="img/6.jpg" alt="" />
		<img src="img/7.jpg" alt="" />
		<img src="img/8.jpg" alt="" />
		<img src="img/9.jpg" alt="" />
		<img src="img/10.jpg" alt="" />
		<img src="img/11.jpg" alt="" />
	</div>
  </div>
  <script type="text/javascript">
	window.onload = function(){
		var oImg = document.getElementsByTagName("img");
		var oWarp = document.getElementsByClassName("warp")[0];
		var Deg = 360/oImg.length;
		Array.prototype.forEach.call(oImg,function(el,index){
			el.style.transform = "rotateY("+index * Deg+"deg) translateZ(400px)";
			el.style.transition = "1s "+(oImg.length-1-index)*0.1+"s";
		});
		var newX,
			newY,
			lastX,
			lastY,
			X,
			Y;
		var rotateX = 20;
		var rotateY = 0;
		document.onmousedown = function(e){
			lastX = e.clientX;
			lastY = e.clientY;
			this.onmouseover = function(e){
				newX = e.clientX;
				newY = e.clientY;
				//差
				X = newX - lastX;
				Y = newY - lastY;
				rotateX -= Y*0.1;
				rotateY += X*0.2;
				oWarp.style.transform = "rotateX("+rotateX+"deg) rotateY("+rotateY+"deg)"
				//旧值
				lastX = newX;
				lastY = newY;
			};
			this.onmouseup = function(){
				this.onmouseover = null;
			};
			return false;
		};
	};
  </script>
 </body>
</html>
